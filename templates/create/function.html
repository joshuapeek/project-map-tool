<!doctype html>
<html lang="en">
  {% include "header.html" %}


  <body>
    <title>Project-Map - Edit {{project.org.title}}</title>

    <!-- navbar start -->
    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
      <a class="navbar-brand" href="/">Project-Map</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarCollapse">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
          </li>
        </ul>
        <form class="form-inline mt-2 mt-md-0">
          <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
          <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
        </form>
      </div>
    </nav>
    <!-- navbar -->

  <body class="bg-light">

    <div class="container">

      <!-- title section -->
      <div class="py-5 text-center">
        <h2>Creating Function for {{project.org.title}} - {{project.title}}</h2>
        <!--<p class="lead">Use the form below to create a Function.</p>-->
        <br>
        <p>
          User Stories will output as follows:<br>
          <i>"As a(n) <code>&lt;User Role Title&gt;</code> on <code>&lt;Screen Title&gt;</code> screen, <code>&lt;Function Description&gt;</code>."</i>
        </p>
      </div>
      <!-- end title section -->

      <!-- start page row -->
        <div class="col-md-12 order-md-1 mx-auto">
          <form class="needs-validation" action='{{url_for('newFunction', project_id=project.id)}}' method='post' novalidate>

            <!-- start row: function title, authRequired -->
            <div class="row">
                <div class="col-md-2 mb-3 mx-auto">
                </div>
                <div class="col-md-4 mb-3 mx-auto">
                  <label for="title">Function title</label>
                  <input type="text" class="form-control" id="title" name="title" required>
                    <div class="invalid-feedback">
                      Please enter a valid title.
                    </div>
                </div>
                <div class="col-md-4 mb-3 mx-auto">
                  <div class="form-group">
                    <label for="authRequired">Authentication Required?</label>
                    <select class="form-control" id="authRequired" name="authRequired">
                      <option>No</option>
                      <option>Yes</option>
                    </select>
                  </div>
                </div>
                <div class="col-md-2 mb-3 mx-auto">
                </div>
            </div>
            <!-- end row -->

            <!-- start row: description -->
            <div class="row">
              <div class="col-md-2 mb-4 mx-auto">
              </div>
              <div class="col-md-8 mb-4 mx-auto">
                <label for="description">Function Description</label>
                <textarea class="form-control" id="description" rows="3" name="description" required></textarea>
                <div class="invalid-feedback">
                  Please enter a valid description.
                </div>
              </div>
              <div class="col-md-2 mb-4 mx-auto">
              </div>
            </div>
            <!-- end row -->

            <!-- start row: select screens, roles -->
            <div class="row">
              <div class="col-md-2 mb-3 mx-auto">
              </div>
              <div class="col-md-4 mb-3 mx-auto">
                <p>Should be available on these screens:</p>
                <div class="form-check" id="roles">
                  {% for i in screens %}
                  <input class="form-check-input" type="checkbox" name="{{i.title}}" value="{{i.id}}" id="role_{{i.title}}">
                  <label class="form-check-label" for="{{i.title}}">
                  {{i.title}}
                </label><br>
                  {% endfor %}
                </div>
              </div>

              <div class="col-md-4 mb-3 mx-auto">
                <p>Should be available to these user roles:</p>
                <div class="form-check" id="roles">
                  {% for i in roles %}
                  <input class="form-check-input" type="checkbox" name="{{i.title}}" value="{{i.id}}" id="role_{{i.title}}">
                  <label class="form-check-label" for="{{i.title}}">
                  {{i.title}}
                  </label><br>
                  {% endfor %}
                </div>
              </div>
              <div class="col-md-2 mb-3 mx-auto">
              </div>
            </div>
            <!-- end row -->

            <hr class="mb-4">

            <!-- start row -->
            <div class="row">
              <div class="col-md-2 mb-3 mx-auto">
              </div>
              <div class="col-md-4 mb-3">
                <button class="btn btn-primary btn-lg btn-block" type="Edit">Continue</button>
              </div>
          </form>
              <div class="col-md-4 mb-3">
                <form action="{{url_for('projectPage', org_id=project.org.id, project_id=project.id)}}">
                  <button class="btn btn-secondary btn-lg btn-block" type="submit">Cancel</button>
                </form>
              </div>
              <div class="col-md-2 mb-3 mx-auto">
              </div>
            </div>
            <!-- end row -->

      </div>
      <!-- end page row -->

    </div>
    <!-- end body container -->

  {% include "footer.html" %}

  </body>
</html>
